# 更新日志

## [1.1.0] - 2025-10-16

### 🎯 新增
- **WebDAV 用户名配置** - 添加 `webdavUsername` 配置项，支持企业环境中不同的 WebDAV 用户名格式（如 `username_3074`）
- **增强测试连接** - 显示根目录文件列表和详细诊断信息
- **自动创建目录** - 自动检测并尝试创建 basePath 目录
- **故障排查指南** - 新增完整的故障排查文档
- **应用专用密码指南** - 新增详细的应用专用密码获取指南
- **文件覆盖策略** - 添加 `overwriteExisting` 配置，默认自动覆盖已存在的文件，避免手动选择版本

### 📖 文档
- 新增 [故障排查指南](docs/TROUBLESHOOTING.md)
- 新增 [应用专用密码指南](docs/APP_PASSWORD_GUIDE.md)
- 更新 [NextCloud 配置指南](docs/NEXTCLOUD_CONFIG.md)
- 更新所有配置示例和说明

### 🐛 修复
- 修复 WebDAV 认证用户名与文件空间用户名不一致的问题
- 修复资源扫描时重复警告的问题
- **修复文件上传时的版本选择问题** - 现在自动覆盖已存在的文件，避免 NextCloud 提示手动选择版本
- 自动处理 NextCloud URL 末尾的斜杠

### 🔧 改进
- 改进错误提示，提供更详细的解决建议
- 优化日志输出，使用不同级别区分信息
- 完善所有配置文档和示例

---

## [1.0.1] - 2025-10-16

### 🐛 修复
- **修复目录创建逻辑** - 不再尝试创建 basePath 及其父目录，避免 403/409 错误
- **basePath 改为必填项** - 必须指向 NextCloud 中已存在的根目录，无默认值
- **改进路径处理** - 支持 Windows 反斜杠，正确标准化路径

### 📖 文档
- 更新 `NEXTCLOUD_SETUP_GUIDE.md` - 包含完整配置说明和修复要点
- 更新配置示例和说明

### 🔧 改进
- 更清晰的配置错误提示
- 更完善的日志输出

### ⚠️ 破坏性变更
- basePath 从可选（默认 `/Docs`）变为必填项
- 使用前必须在 NextCloud 中手动创建 basePath 目录

## [1.0.0] - 2025-10-16

### 新增功能
- ✨ 支持单个文档发布到 NextCloud
- ✨ 支持批量目录发布到 NextCloud
- ✨ 自动上传 assets 目录下的资源文件
- ✨ 自动替换 Markdown 中的资源链接为 NextCloud 分享链接
- ✨ 支持通过 Cursor 设置或项目配置文件配置插件
- ✨ 支持环境变量配置
- ✨ 提供连接测试功能
- ✨ 提供配置查看功能
- ✨ 详细的日志输出
- ✨ 右键菜单快捷操作
- ✨ 键盘快捷键支持

### 技术特性
- 🔧 基于 TypeScript 开发
- 🔧 使用 WebDAV 协议上传文件
- 🔧 使用 NextCloud Sharing API 创建分享链接
- 🔧 支持递归创建目录
- 🔧 支持批量上传和链接创建
- 🔧 实时进度显示

### 文档
- 📚 完整的 README 使用文档
- 📚 详细的配置说明
- 📚 插件开发指南
- 📚 故障排查指南

